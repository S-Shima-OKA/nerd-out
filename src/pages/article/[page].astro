---
import { itemSort, urlReplace } from '../../utils/util';
import Layout from '../../layouts/Layout.astro';
import PageTitle from '../../components/PageTitle.astro';
import BlogPost from '../../components/BlogPost.astro';
export async function getStaticPaths({ paginate }) {
    const allPosts = await Astro.glob("./_testItems/*.md");
    const extendArray = Array(24).fill().map((_, i) => allPosts[i % allPosts.length]);
    itemSort(extendArray);

    return paginate(itemSort(extendArray), { pageSize: 6 }); // ページあたりの記事数を設定
}
const { page } = Astro.props;
const { pathname } = Astro.url;

---
<Layout title=`Article ${page.currentPage}/${page.lastPage}` desc="これまでの記事一覧。">
    <PageTitle title="Article" lead="これまでの記事一覧" />
    <!-- Card Blog -->
    <BlogPost 
        sortFunc={page.data} 
        isTotal={page.total}
        isPrev={page.url.prev}
        isNext={page.url.next}
        isCurrentPage={page.currentPage}
        isPageNate={urlReplace(pathname)}
    />
</Layout>